% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/musical_experience_profile.R
\name{musical_experience_profile}
\alias{musical_experience_profile}
\title{Parse LimeSurvey musical experience (profile: clean fields only)}
\usage{
musical_experience_profile(
  file,
  min_lastpage = 4,
  id_col = NULL,
  anchor_regex = "(?i)^firstyears\\\\[1\\\\]$",
  verbose = TRUE
)
}
\arguments{
\item{file}{Path to the LimeSurvey CSV export.}

\item{min_lastpage}{Keep rows where \code{lastpage == min_lastpage} when column exists (default: 4).}

\item{id_col}{Optional column name to be used as \code{code}. If \code{NULL}, uses existing \code{code},
otherwise creates a synthetic code.}

\item{anchor_regex}{Only used to warn if the expected block (e.g. \code{firstyears[1]}) is missing.}

\item{verbose}{If \code{TRUE}, prints a short processing summary.}
}
\value{
A tibble with exactly one row per \code{code} containing only clean fields.
}
\description{
Defensively loads a LimeSurvey CSV, ensures an ID column \code{code}, optionally
filters by \code{lastpage}, and returns a clean, wide tibble with \strong{no raw columns}.
Field names follow a stable English scheme; value \strong{labels} are provided as
parallel \verb{*_label} columns where useful.

Included blocks and fields:
\itemize{
\item Motivation & status:
\itemize{
\item \code{practice_motivation_early} (0..10) + \code{practice_motivation_early_label}
\item \code{music_status} (1..6) + \code{music_status_label}
\item \code{main_instrument} (character)
\item \code{vocal_knowledge} (1/2) + \code{vocal_knowledge_label}
}
\item Voice & hearing:
\itemize{
\item \code{estimated_vocal} (1..10) + \code{estimated_vocal_label} (1 = sehr tief, 10 = sehr hoch)
\item \code{vocal_range} (1..10 \u2192 Bass/Tenor/Alt/Sopran) + \code{vocal_range_label}
\item \code{handedness} (-5..5; L..R) + \code{handedness_label}
\item \code{absolute_hearing} (1..3) + \code{absolute_hearing_label}
}
\item Early musical exposure (formerly \code{music2[...]}), renamed:
\itemize{
\item \code{parents_sang}, \code{listened_children_music}, \code{liked_singing},
\code{parents_musicians}, \code{parents_non_musicians} (0/1) + each \verb{*_label}
\item free text \code{early_experience_other}
\item \code{parents_musicians_contradiction_flag} = 1 if both parents_musicians==1 and
parents_non_musicians==1 (else 0; NA if undetermined)
}
\item Inner hearing & relative pitch:
\itemize{
\item \code{innerhearing_melody_memory}, \code{innerhearing_earworms_frequency},
\code{innerhearing_imagine_memorized_music}, \code{innerhearing_imagine_from_notation}
(each -10..10) + \verb{*_label}
\item \code{relative_hearing} (-10..10) + \code{relative_hearing_label}
}
\item Ranking blocks (\strong{column names without brackets; value = rank}):
\itemize{
\item Preferred way of making music (\code{preferedmusicmaking1..4}, ranks 1..4) + \verb{*_label} = "Rang \if{html}{\out{<n>}}"
\item Learning music by mental imagery (\code{musiclearing1..4}, ranks 1..4) + \verb{*_label} = "Rang \if{html}{\out{<n>}}"
\item Preferred genres (\code{preferedmusic1..7}, ranks 1..7) + \verb{*_label} = "Rang \if{html}{\out{<n>}}"
}
\item Free-text top/least three genres:
\itemize{
\item \code{best_music1..3} + \code{best_music_concat} (keeps input order)
\item \code{worst_music1..3} + \code{worst_music_concat} (keeps input order)
}
}
}
